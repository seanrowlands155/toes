{% extends "layouts/base.njk" %}

{% block content %}
<h1>{{ page ? 'Edit page' : 'Create custom page' }}</h1>
<form method="post" action="{{ action }}">
  <label for="title">Title</label>
  <input type="text" id="title" name="title" value="{{ page.title if page else '' }}" required />

  <label for="template">Template</label>
  <select id="template" name="template">
    {% for template in templates %}
      <option value="{{ template }}" {% if page and page.template == template %}selected{% endif %}>{{ template }}</option>
    {% endfor %}
  </select>

  <label for="content">Content</label>
  <textarea id="content" name="content" class="wysiwyg" data-wysiwyg="true">{{ page.content if page else '<p>New content</p>' }}</textarea>

  <button type="submit" class="button-primary">{{ page ? 'Save changes' : 'Create page' }}</button>
</form>
{% endblock %}

{% extends "layouts/base.njk" %}

{% block content %}
<article>
  <div class="row">
    <div class="column">
      {% if product.media.length %}
        <img src="{{ product.media[0].url }}" alt="{{ product.media[0].altText }}" />
      {% endif %}
    </div>
    <div class="column">
      <h1>{{ product.name }}</h1>
      <p>{{ product.description }}</p>
      <p><strong>{{ product.price | round(2, 'floor') }} {{ product.currency }}</strong></p>
      {% if query.added %}
        <div class="message">
          <strong>{{ product.name }}</strong> was added to your cart.
        </div>
      {% endif %}
      <form method="post" action="/cart/add" class="add-to-cart">
        <input type="hidden" name="productId" value="{{ product.id }}" />
        <input type="hidden" name="redirect" value="{{ returnUrl }}" />
        <label for="quantity">Quantity</label>
        <input type="number" id="quantity" name="quantity" min="1" value="1" />
        <button type="submit" class="button button-outline">Add to cart</button>
      </form>
      <h4>Product information</h4>
      <ul>
        {% for key, value in product.additionalInfo %}
          <li><strong>{{ key }}:</strong> {{ value }}</li>
        {% else %}
          <li>No additional information provided.</li>
        {% endfor %}
      </ul>
      <p>
        <a class="button" href="/admin">Manage product</a>
      </p>
    </div>
  </div>
</article>
{% endblock %}

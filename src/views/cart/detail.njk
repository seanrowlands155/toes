{% extends "layouts/base.njk" %}

{% block content %}
<section>
  <h1>Your cart</h1>
  {% if items.length %}
    <table>
      <thead>
        <tr>
          <th>Product</th>
          <th class="text-right">Price</th>
          <th class="text-right">Quantity</th>
          <th class="text-right">Total</th>
        </tr>
      </thead>
      <tbody>
        {% for item in items %}
          <tr>
            <td>
              <a href="/products/{{ item.product.slug }}">{{ item.product.name }}</a>
              <p class="description">{{ item.product.description }}</p>
            </td>
            <td class="text-right">{{ item.product.price | round(2, 'floor') }} {{ item.product.currency }}</td>
            <td class="text-right">{{ item.quantity }}</td>
            <td class="text-right">{{ item.lineTotal | round(2, 'floor') }} {{ item.product.currency }}</td>
          </tr>
        {% endfor %}
      </tbody>
      <tfoot>
        <tr>
          <th colspan="3" class="text-right">Order total</th>
          <th class="text-right">{{ total | round(2, 'floor') }} {{ items[0].product.currency }}</th>
        </tr>
      </tfoot>
    </table>
    <p>
      <a class="button button-outline" href="/">Continue shopping</a>
    </p>
  {% else %}
    <p>Your cart is empty. <a href="/">Browse products</a> to add items.</p>
  {% endif %}
</section>
{% endblock %}
